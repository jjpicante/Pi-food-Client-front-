{"ast":null,"code":"import { GET_RECIPES, GET_DIETS, SEARCH_RECIPES, GET_DETAIL, CLEAN_DETAIL, POST_RECIPE, FILTER_RECIPE_BY_DIETS, FILTER_RECIPE_BY_ORIGIN, SORT_BY_NAME, SORT_BY_HS } from \"./actionsTypes\";\nconst initialState = {\n  recipes: [],\n  originalRecipes: [],\n  noResultsFound: [],\n  recipeByID: {},\n  diets: []\n};\nexport default function reducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n  const allRecipes = state.originalRecipes;\n  const helper = [{\n    undefined\n  }];\n  switch (type) {\n    case GET_RECIPES:\n      return {\n        ...state,\n        recipes: payload,\n        originalRecipes: payload\n      };\n    case GET_DIETS:\n      return {\n        ...state,\n        diets: payload\n      };\n    case SEARCH_RECIPES:\n      return {\n        ...state,\n        recipes: payload\n      };\n    case GET_DETAIL:\n      return {\n        ...state,\n        recipeByID: payload\n      };\n    case CLEAN_DETAIL:\n      return {\n        ...state,\n        recipeByID: payload\n      };\n    case POST_RECIPE:\n      return {\n        ...state\n      };\n    case FILTER_RECIPE_BY_DIETS:\n      const recipesFiltered = payload === 'all' ? allRecipes : allRecipes.filter(recipe => {\n        var _recipe$diets;\n        return (_recipe$diets = recipe.diets) === null || _recipe$diets === void 0 ? void 0 : _recipe$diets.includes(payload);\n      });\n      return {\n        ...state,\n        recipes: recipesFiltered\n      };\n    case FILTER_RECIPE_BY_ORIGIN:\n      console.log(allRecipes[0].id);\n      const recipesByOrigin = payload === 'Creadas' ? allRecipes.filter(recipe => typeof recipe.id === \"string\") : allRecipes.filter(recipe => recipe.id === typeof \"number\");\n      if (recipesByOrigin.length) {\n        return {\n          ...state,\n          recipes: payload === 'Todas' ? allRecipes : recipesByOrigin\n        };\n      } else {\n        return {\n          ...state,\n          noResultsFound: [\"NO SE ECONTRARON RECETAS CREADAS :(\"]\n        };\n      }\n    case SORT_BY_NAME:\n      let sortByName;\n      if (payload === 'az') {\n        sortByName = state.recipes.sort((a, b) => {\n          if (a.name > b.name) {\n            return 1;\n          }\n          if (a.name < b.name) {\n            return -1;\n          }\n          return 0;\n        });\n      }\n      if (payload === 'za') {\n        sortByName = state.recipes.sort((a, b) => {\n          if (a.name > b.name) {\n            return -1;\n          }\n          if (a.name < b.name) {\n            return 1;\n          }\n          return 0;\n        });\n      }\n      if (payload === \"-\") {\n        sortByName = state.originalRecipes;\n      }\n      return {\n        ...state,\n        recipes: sortByName.concat(helper)\n      };\n    case SORT_BY_HS:\n      let sortByHs;\n      if (payload === 'asc') {\n        sortByHs = state.recipes.sort((a, b) => {\n          if (a.healthScore > b.healthScore) {\n            return 1;\n          }\n          if (a.healthScore < b.healthScore) {\n            return -1;\n          }\n          return 0;\n        });\n      }\n      if (payload === 'desc') {\n        sortByHs = state.recipes.sort((a, b) => {\n          if (a.healthScore > b.healthScore) {\n            return -1;\n          }\n          if (a.healthScore < b.healthScore) {\n            return 1;\n          }\n          return 0;\n        });\n      }\n      if (payload === \"-\") {\n        sortByHs = state.originalRecipes;\n      }\n      return {\n        ...state,\n        recipes: sortByHs.concat(helper)\n      };\n    default:\n      return {\n        ...state\n      };\n  }\n}","map":{"version":3,"names":["GET_RECIPES","GET_DIETS","SEARCH_RECIPES","GET_DETAIL","CLEAN_DETAIL","POST_RECIPE","FILTER_RECIPE_BY_DIETS","FILTER_RECIPE_BY_ORIGIN","SORT_BY_NAME","SORT_BY_HS","initialState","recipes","originalRecipes","noResultsFound","recipeByID","diets","reducer","state","arguments","length","undefined","type","payload","allRecipes","helper","recipesFiltered","filter","recipe","_recipe$diets","includes","console","log","id","recipesByOrigin","sortByName","sort","a","b","name","concat","sortByHs","healthScore"],"sources":["C:/Users/jjfio/Desktop/Soy Henry/PI/PI-Food-main/client/src/Redux/reducer.js"],"sourcesContent":["import {\r\n  GET_RECIPES,\r\n  GET_DIETS,\r\n  SEARCH_RECIPES,\r\n  GET_DETAIL,\r\n  CLEAN_DETAIL,\r\n  POST_RECIPE,\r\n  FILTER_RECIPE_BY_DIETS,\r\n  FILTER_RECIPE_BY_ORIGIN,\r\n  SORT_BY_NAME,\r\n  SORT_BY_HS,\r\n  \r\n} from \"./actionsTypes\"\r\n\r\n\r\n\r\nconst initialState = {\r\n  recipes: [],\r\n  originalRecipes: [],\r\n  noResultsFound:[],\r\n  recipeByID: {},\r\n  diets: [],\r\n}\r\n\r\n\r\nexport default function reducer(state = initialState, { type, payload }) {\r\n  const allRecipes = state.originalRecipes\r\n  const helper = [{ undefined }]\r\n  switch (type) {\r\n    case GET_RECIPES:\r\n      return {\r\n        ...state,\r\n        recipes: payload,\r\n        originalRecipes: payload,\r\n      }\r\n    case GET_DIETS:\r\n      return {\r\n        ...state,\r\n        diets: payload\r\n      }\r\n    case SEARCH_RECIPES:\r\n      return {\r\n        ...state,\r\n        recipes: payload\r\n      }\r\n    case GET_DETAIL:\r\n      return {\r\n        ...state,\r\n        recipeByID: payload\r\n      }\r\n    case CLEAN_DETAIL:\r\n      return {\r\n        ...state,\r\n        recipeByID: payload\r\n      }\r\n    case POST_RECIPE:\r\n\r\n      return {\r\n        ...state\r\n      }\r\n    case FILTER_RECIPE_BY_DIETS:\r\n      const recipesFiltered = payload === 'all' ? allRecipes : allRecipes.filter(recipe => recipe.diets?.includes(payload));\r\n      return {\r\n        ...state,\r\n        recipes: recipesFiltered\r\n      }\r\n    case FILTER_RECIPE_BY_ORIGIN:\r\n      console.log(allRecipes[0].id)\r\n      const recipesByOrigin = payload === 'Creadas' ? allRecipes.filter(recipe => typeof recipe.id === \"string\"  ) : allRecipes.filter(recipe => recipe.id === typeof \"number\");\r\n      if(recipesByOrigin.length){\r\n      return {\r\n        ...state,\r\n        recipes: payload === 'Todas' ? allRecipes : recipesByOrigin\r\n      }}else{\r\n        return {\r\n          ...state,\r\n          noResultsFound: [\"NO SE ECONTRARON RECETAS CREADAS :(\"]\r\n      }}\r\n    case SORT_BY_NAME:\r\n      let sortByName;\r\n      if (payload === 'az') {\r\n        sortByName = state.recipes.sort((a, b) => {\r\n          if (a.name > b.name) {\r\n            return 1;\r\n          }\r\n          if (a.name < b.name) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        });\r\n      } if (payload === 'za') {\r\n        sortByName = state.recipes.sort((a, b) => {\r\n          if (a.name > b.name) {\r\n            return -1;\r\n          }\r\n          if (a.name < b.name) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        });\r\n      } if (payload === \"-\") {\r\n        sortByName = state.originalRecipes\r\n      }\r\n      return {\r\n        ...state,\r\n        recipes: sortByName.concat(helper)\r\n      }\r\n    case SORT_BY_HS:\r\n      let sortByHs;\r\n      if (payload === 'asc') {\r\n        sortByHs = state.recipes.sort((a, b) => {\r\n          if (a.healthScore > b.healthScore) {\r\n            return 1;\r\n          }\r\n          if (a.healthScore < b.healthScore) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        });\r\n      } if (payload === 'desc') {\r\n        sortByHs = state.recipes.sort((a, b) => {\r\n          if (a.healthScore > b.healthScore) {\r\n            return -1;\r\n          }\r\n          if (a.healthScore < b.healthScore) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        });\r\n      } if (payload === \"-\") {\r\n        sortByHs = state.originalRecipes\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        recipes: sortByHs.concat(helper)\r\n      }\r\n   \r\n    default:\r\n      return { ...state, }\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}